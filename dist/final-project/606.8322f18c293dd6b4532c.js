"use strict";(self.webpackChunkfinal_project=self.webpackChunkfinal_project||[]).push([[606],{606:(_,p,s)=>{s.r(p),s.d(p,{IngredientsModule:()=>M});var d=s(8583),a=s(8866),i=s(665),Z=s(9193),m=s(8002),v=s(3190),I=s(8259),h=s.n(I),e=s(639),y=s(7709),w=s(1841);let f=(()=>{class n{constructor(t){this.http=t,this.IngredientsSubject=new y.xQ}getAll(){return this.http.get("/api/product/ingredient")}getById(t){return this.http.get(`/api/product/ingredient/${t}`)}save(t){return t.id?this.http.put("/api/admin/product/ingredient",t):this.http.post("/api/admin/product/ingredient",t)}delete(t){return this.http.delete(`/api/admin/product/ingredient/${t}`).pipe((0,m.U)(()=>this.IngredientsSubject.next(!0)))}listUpdated(){return this.IngredientsSubject.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(w.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n,o){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"p",13),e._uU(2," Periksa Kembali Semua Field Colum Wajib di Isi "),e.qZA(),e.qZA())}let x=(()=>{class n{constructor(t,r,l){this.ingredientsService=t,this.activatedRoute=r,this.route=l,this.isLoading=!1,this.id=null,this.httpError=!1,this.ingreForm=new i.cw({name:new i.NI("",[i.kI.required,i.kI.minLength(3)]),stock:new i.NI(100,[i.kI.required]),price:new i.NI("",[i.kI.required,i.kI.minLength(3)]),unit:new i.NI("",[i.kI.required,i.kI.minLength(1)])})}ngOnInit(){this.selected()}setFormValue(t){var r,l,g,u,c;this.ingreForm.addControl("id",new i.NI),null===(r=this.ingreForm.get("id"))||void 0===r||r.setValue(this.id),null===(l=this.ingreForm.get("name"))||void 0===l||l.setValue(t.name),null===(g=this.ingreForm.get("stock"))||void 0===g||g.setValue(t.stock),null===(u=this.ingreForm.get("price"))||void 0===u||u.setValue(t.price),null===(c=this.ingreForm.get("unit"))||void 0===c||c.setValue(t.unit)}selected(){this.activatedRoute.params.pipe((0,m.U)(t=>t.id),(0,v.w)(t=>t?(this.id=t,this.ingredientsService.getById(t)):Z.E)).subscribe(t=>{console.log(t),t&&this.setFormValue(t)},t=>console.error(t),()=>{})}saveIngredients(){this.isLoading=!0,this.ingredientsService.save(this.ingreForm.value).subscribe({next:()=>{var t;(null===(t=this.ingreForm.get("id"))||void 0===t?void 0:t.value)?(this.isLoading=!1,this.successConfirmation(),this.route.navigateByUrl("ingre")):(this.ingreForm.reset(),this.isLoading=!1,this.successConfirmation(),this.route.navigateByUrl("ingre"))},error:()=>{this.alertConfirmation()},complete:()=>{}})}isFieldValid(t){const r=this.ingreForm.get(t);return r&&r.touched&&r.invalid?"is-invalid":r&&r.valid?"is-valid":""}alertConfirmation(){h().fire({icon:"error",title:"Oops...",text:"Something went wrong! Pastikan semua field sudah di isi"})}successConfirmation(){h().fire({icon:"success",title:"Yesss...",text:"Data Behasil Disimpan"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(a.gz),e.Y36(a.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-ingre"]],decls:21,vars:2,consts:[[1,"px-2","py-2"],[1,"px-2","py-2","shadow-lg"],[1,"px-3","py-3"],[1,"px-4","py-3","lg:w-3/4","md:w-5/6","w-full"],[1,"w-full",3,"formGroup","ngSubmit"],[1,"flex","flex-col","my-2"],["for","",1,"select-none","font-nunito","lg:text-base","text-sm","font-medium"],["formControlName","name","type","text",1,"px-2","py-1","rounded-lg","text-sm","lg:w-2/3","w-[300px]","border-2","border-gray-200","focus:outline-none","focus:border-orange-400"],[1,"flex","flex-col","my-5"],["formControlName","price","type","number","min","1000",1,"px-2","py-1","rounded-lg","text-sm","lg:w-2/3","w-[300px]","border-2","border-gray-200","focus:outline-none","focus:border-orange-400"],["formControlName","unit","type","text",1,"px-2","py-1","rounded-lg","text-sm","lg:w-2/3","w-[300px]","border-2","border-gray-200","focus:outline-none","focus:border-orange-400"],[1,"px-2","py-[7px]","bg-primary","text-white","text-sm","font-medium","rounded-md"],[4,"ngIf"],[1,"text-red-600","text-xs","font-extralight","py-3","text-center"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h1",2),e._uU(3,"Form Ingredients"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return r.saveIngredients()}),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"label",6),e._uU(12,"Price"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"label",6),e._uU(16,"Item Unit"),e.qZA(),e._UZ(17,"input",10),e.qZA(),e.TgZ(18,"button",11),e._uU(19," Simpan "),e.qZA(),e.qZA(),e.YNc(20,b,3,0,"div",12),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",r.ingreForm),e.xp6(15),e.Q6J("ngIf",r.httpError))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV,i.qQ,d.O5],styles:[""]}),n})();var T=s(8424),A=s(3735);function q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td",17),e._uU(9),e.qZA(),e.TgZ(10,"td",17),e.TgZ(11,"button",23),e.O4$(),e.TgZ(12,"svg",24),e._UZ(13,"path",25),e.qZA(),e.qZA(),e.kcU(),e.TgZ(14,"button",26),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(2).onDeleteIngre(g.id)}),e.O4$(),e.TgZ(15,"svg",24),e._UZ(16,"path",27),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.stock),e.xp6(2),e.hij(" ",e.gM2(7,5,t.price,"IDR ","symbol","3.0")," "),e.xp6(3),e.Oqu(t.unit),e.xp6(2),e.MGl("routerLink","/ingre/form-ingre/",t.id,"")}}function C(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"tbody",21),e.YNc(2,q,17,10,"tr",22),e.ALo(3,"searchFilter"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,t.ingres,t.searchText))}}function F(n,o){}function U(n,o){1&n&&(e.TgZ(0,"div",28),e.TgZ(1,"h2",29),e._uU(2,"Loading...."),e.qZA(),e._UZ(3,"app-loading"),e.qZA())}const k=[{path:"",component:(()=>{class n{constructor(t){this.ingreService=t,this.ingres=[],this.isLoading=!0}ngOnInit(){this.init()}init(){this.ingreService.getAll().subscribe({next:t=>{this.ingres=t},error:()=>{this.isLoading=!0},complete:()=>{this.init(),this.isLoading=!1}})}onDeleteIngre(t){this.isLoading=!0,this.ingreService.delete(t).subscribe({next:()=>{},error:r=>{console.error(r)},complete:()=>{this.init(),this.isLoading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ingredients"]],decls:34,vars:4,consts:[[1,"lg:mx-5","mx-1","lg:my-4","my-2","shadow-lg","rounded-lg","overflow-hidden"],[1,"lg:px-4","px-1","lg:py-4","py-1","border-b-2","shadow-md","border-orange-600"],[1,"font-nunito","font-semibold","text-2xl"],[1,"px-3","py-8","flex","flex-col"],[1,"flex","items-center","justify-between"],["routerLink","form-ingre",1,"font-semibold","bg-primary","lg:px-5","px-2","py-2","rounded-lg","text-white","flex","items-center","lg:text-base","text-xs"],[1,"lg:ml-4","ml-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"lg:h-6","lg:w-6","w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"relative","items-center","border-2","rounded","lg:mx-0","mx-1","bg-white"],["type","text","placeholder","Search...",1,"lg:px-4","px-2","py-2","lg:w-80","w-40","lg:text-base","text-xs",3,"ngModel","ngModelChange"],["fill","currentColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600","absolute","right-2","top-2","bg-white"],["d","M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"],[1,"my-5","mx-2","lg:text-base","text-xs","w-full"],[1,"overflow-x-scroll"],[1,"table-auto","rounded-md","overflow-hidden"],[1,"px-2","py-1","bg-primary","text-white"],[1,"text-left","px-3","py-1"],[4,"ngIf","ngIfElse"],["table",""],["class","\n    absolute\n    inset-0\n    bg-black bg-opacity-40\n    flex flex-col\n    justify-center\n    text-center\n    py-4\n    text-white\n    w-full\n    h-full\n  ",4,"ngIf"],[1,"truncate"],[4,"ngFor","ngForOf"],[1,"px-2","py-2","bg-green-700","text-white","rounded-md","font-semibold",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"px-2","py-2","mx-2","bg-red-700","text-white","rounded-md","font-semibold",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"absolute","inset-0","bg-black","bg-opacity-40","flex","flex-col","justify-center","text-center","py-4","text-white","w-full","h-full"],[1,"text-sm","font-semibold","py-5"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h1",2),e._uU(3," Dashboard Ingredients Admin "),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e._uU(7," Add "),e.TgZ(8,"span",6),e.O4$(),e.TgZ(9,"svg",7),e._UZ(10,"path",8),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(11,"div",9),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(g){return r.searchText=g}),e.qZA(),e.O4$(),e.TgZ(13,"svg",11),e._UZ(14,"path",12),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(15,"div",13),e.TgZ(16,"div",14),e.TgZ(17,"table",15),e.TgZ(18,"thead",16),e.TgZ(19,"tr"),e.TgZ(20,"th",17),e._uU(21,"Name"),e.qZA(),e.TgZ(22,"th",17),e._uU(23,"Stock"),e.qZA(),e.TgZ(24,"th",17),e._uU(25,"Price"),e.qZA(),e.TgZ(26,"th",17),e._uU(27,"Satuan"),e.qZA(),e.TgZ(28,"th",17),e._uU(29,"Action"),e.qZA(),e.qZA(),e.qZA(),e.YNc(30,C,4,4,"ng-container",18),e.YNc(31,F,0,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(33,U,4,0,"div",20)),2&t){const l=e.MAs(32);e.xp6(12),e.Q6J("ngModel",r.searchText),e.xp6(18),e.Q6J("ngIf",!r.isLoading)("ngIfElse",l),e.xp6(3),e.Q6J("ngIf",r.isLoading)}},directives:[a.rH,i.Fj,i.JJ,i.On,d.O5,d.sg,T.N],pipes:[A.G,d.H9],styles:[""]}),n})()},{path:"form-ingre",component:x},{path:"form-ingre/:id",component:x}];let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.Bz.forChild(k)],a.Bz]}),n})();var S=s(4466);let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,L,i.UX,i.u5,S.m]]}),n})()}}]);